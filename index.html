<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talking Hatchling Pro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        .character-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .character {
            width: 150px;
            height: 150px;
            background-image: url('./dcc87ta-3d556cc0-9b25-4a94-afcb-9cdffe707032.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            margin-bottom: 10px;
            transition: background-image 0.3s, transform 0.2s;
        }

        

        .stats {
            margin-bottom: 10px;
        }

        .stat {
            margin: 5px 0;
        }

        button {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: #45a049;
        }

        .menu {
            display: none;
            background: #ffffff;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 10px;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }

        .phone {
            width: 150px;
            height: 300px;
            border: 5px solid black;
            background-color: #ddd;
            border-radius: 20px;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
        }

        iframe {
            width: 300px;
            height: 200px;
        }

        .background-menu {
    background: #fff;
    border: 2px solid #ccc;
    padding: 20px;
    border-radius: 10px;
    position: fixed;
    top: 100px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 101;
}

@media screen and (max-width: 768px) {
            body {
                padding: 10px;
                background-color: lightblue;
                color: red;
            }
        }

        #shopMenu {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border: 2px solid black;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}

#toggleShopMenu {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 10px 15px;
    font-size: 16px;
    background-color: #008cba;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#toggleShopMenu:hover {
    background-color: #005f75;
}

#shopFeedback {
    margin-top: 10px;
    font-size: 14px;
    color: green;
}

@keyframes rainbowGlow {
    0% { box-shadow: 0 0 10px red; }
    17% { box-shadow: 0 0 10px orange; }
    34% { box-shadow: 0 0 10px yellow; }
    51% { box-shadow: 0 0 10px green; }
    68% { box-shadow: 0 0 10px blue; }
    85% { box-shadow: 0 0 10px indigo; }
    100% { box-shadow: 0 0 10px violet; }
}

#buyApples {
    animation: rainbowGlow 3s infinite; /* Apply the rainbow animation */
    background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
    background-size: 300%; /* Make the gradient larger for smoother transitions */
    border: none;
    color: white;
    font-size: 16px;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: transform 0.2s;
}

#buyApples:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#feed:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#open-chest:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#shower:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#toggle-menu:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#save-progress:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#reset-data:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#show-phone:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#show-background:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#reset-background:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#toggleShopMenu:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#NTC:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

#fusings:hover {
    transform: scale(1.1); /* Slightly enlarge the button on hover */
}

/* Menu styling */
#fuseMenu {
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    border: 2px solid #ccc;
    background-color: #f8f8f8;
    border-radius: 8px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
}

#fusings, #fuseButton {
    padding: 10px 20px;
    margin: 10px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#fusings:hover, #fuseButton:hover {
    background-color: #45a049;
}

@keyframes rainbowGlow {
    0% { box-shadow: 0 0 10px red; }
    17% { box-shadow: 0 0 10px orange; }
    34% { box-shadow: 0 0 10px yellow; }
    51% { box-shadow: 0 0 10px green; }
    68% { box-shadow: 0 0 10px blue; }
    85% { box-shadow: 0 0 10px indigo; }
    100% { box-shadow: 0 0 10px violet; }
}

#fusings {
    animation: rainbowGlow 3s infinite; /* Apply the rainbow animation */
    background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
    background-size: 300%; /* Make the gradient larger for smoother transitions */
    border: none;
    color: white;
    font-size: 16px;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: transform 0.2s;
}
    </style>
</head>
<body>
    <h1 style="background: #B8E1FC;
    background: radial-gradient(circle farthest-corner at center center, #B8E1FC 0%, #231421 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;">Talking Hatchling PRO</h1>

    <div class="character-container">
        <div id="character" class="character"></div>
        <div class="stats">
            <div class="stat">Hunger: <span id="hunger">100</span></div>
            <div class="stat">Cleanliness: <span id="cleanliness">100</span></div>
            <div class="stat">Happiness: <span id="happiness">100</span></div>
            <div class="stat">Coins: <span id="coins">0</span></div>
            <div class="stat">Apples: <span id="apples">0</span></div>
            <p>Golden Apples: <span id="goldenApples">0</span></p>
            <div class="stat">Level: <span id="level">1</span></div>
        </div>
        <button id="feed">Feed Apple</button>
        <button id="open-chest">Open Chest (-10 Coins)</button>
        <button id="shower">Shower</button>
        <button id="toggle-menu">Toggle Menu</button>
        <button id="save-progress">Save Progress</button>
        <button id="reset-data">Reset Data</button>
        <button id="show-phone">Show Phone</button>
        <button id="show-background">Show Background</button>
        <button id="reset-background">Reset Background</button>
        <button id="toggleShopMenu">Shop</button>
        <button id="NTC">Notice</button>
        <button id="fusings">Fuse!</button>

    </div>

    <div class="background-menu" id="background-menu" style="display: none;">
        <p>Choose a background:</p>
        <button id="background-1">City</button>
        <button id="background-2">Playground</button>
        <button id="background-3">Forest</button>
        <button id="background-4">White wall</button>
    </div>
    

    <div class="menu" id="menu">
        <button id="close-menu" style="float: right; font-size: 16px; background: red; color: white; border: none; border-radius: 5px; cursor: pointer;">X</button>
        <p>Hello dear player, this is the main menu!</p>
        <input type="text" id="player-name" placeholder="Enter your name">
        <button id="save-name">Save Name</button>
        <div id="leaderboard">
            <h3>Leaderboard</h3>
            <div id="leaderboard-entries"></div>
            <p>Please notice leaderboard is broken! it will be fixed soon</p>
        </div>
        <a href="./CHRlink.html">
            <button>Characters</button>
        </a>
        <button id="toggle-autosave">Enable Auto Save</button>
        <br>
        <a href="https://jo23u.github.io/hatchlingnew/">Classic version</a>
        <a href="https://jo23u.github.io/hatchlingnew/hatchlingame+.html">Plus version</a>
        <h3>Watch this video if you want!</h3>
        <iframe id="reward-video" width="560" height="315" src="https://www.youtube.com/embed/U6ULeO8X1dI?enablejsapi=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <!-- Claim coins button -->
        <button id="claim-coins" style="display: none;">Claim 200 Coins</button>
        <div>
            <p>if the text is red you are on a small sized screen, if the text is black you are on a normal sized screen.</p>
        </div>
    </div>

    <div class="phone" id="phone">
        <p>Click below to earn apples!</p>
        <button id="earn-apples">Earn Apples</button>
        <button id="close-phone">Close Phone</button>
    </div>

    <div id="shopMenu" style="display: none;">
        <button id="close-men1" style="float: right; font-size: 16px; background: red; color: white; border: none; border-radius: 5px; cursor: pointer;">X</button>
        <button id="buyBoostPotion">Buy Boost Potion (30 Coins)</button>
        <!-- Inside your Shop Menu -->
<button id="infinite-states-button">Enable Infinite States (900,000 coins)</button>
<button id="buyApples">Buy 1000 Apples (500 Coins Limited offer!!!)</button>

        <p id="shopFeedback"></p>
    </div>

    <div id="NTCM" style="display: none;">
        <!-- Your editable content goes here -->
        <h2>Notice</h2>
        <p>Please make sure you save your data after buying or purchasing anything, after you save your data your data is safely stored in localstorage
            and even is there is an update it will still remain as it is.
        </p>
        <br>
        <p>V5 update-
            Please notice that if you want to feed the hatchling golden apples go to the fuse menu and you will find it, also if you have auto save activated in the main 
            menu it will automatically trigger it off after reloading the page or leaving it.
        </p>
    </div>

    <!-- Fuse System Menu -->
<div id="fuseMenu" style="display: none;">
    <h2>Fuse System</h2>
    <p>Fuse 10 normal apples to create 1 golden apple.</p>
    <button id="close-men2" style="float: right; font-size: 16px; background: red; color: white; border: none; border-radius: 5px; cursor: pointer;">X</button>
    <button id="fuseButton">Fuse Apples</button>
    <button id="feedGoldenAppleButton">Feed Golden Apple</button>
</div>

    <script>
    let hunger = 100, cleanliness = 100, happiness = 100, coins = 0, apples = 0, level = 1;
    let playerName = '', leaderboard = [];
    let infiniteStates = false; // Initially set to false
    let stateDecrementInterval;

// Initialize YouTube Player API
function onYouTubePlayerAPIReady() {
    videoPlayer = new YT.Player('reward-video', {
        events: {
            'onStateChange': onPlayerStateChange
        }
    });
}

// Track the player's video state (playing, paused, etc.)
function onPlayerStateChange(event) {
    if (event.data === YT.PlayerState.PLAYING) {
        let checkTimeInterval = setInterval(() => {
            let currentTime = videoPlayer.getCurrentTime();
            if (currentTime >= 45) { // Reward after 45 seconds
                document.getElementById('claim-coins').style.display = 'block'; // Show the claim button
                clearInterval(checkTimeInterval); // Stop checking the time once the condition is met
            }
        }, 1000);
    }
}

// Handle claim coins button click
document.getElementById('claim-coins').addEventListener('click', () => {
    coins += 200; // Add 200 coins to the user's total
    alert('You have claimed 200 coins!'); // Notify the user
    document.getElementById('claim-coins').style.display = 'none'; // Hide the claim button after claiming
    updateStats(); // Update the stats
});

// Initialize the YouTube Player API
const scriptTag = document.createElement('script');
scriptTag.src = "https://www.youtube.com/iframe_api";
document.body.appendChild(scriptTag);


    function updateStats() {
        document.getElementById('hunger').textContent = hunger;
        document.getElementById('cleanliness').textContent = cleanliness;
        document.getElementById('happiness').textContent = happiness;
        document.getElementById('coins').textContent = coins;
        document.getElementById('apples').textContent = apples;
        document.getElementById('goldenApples').textContent = `: ${goldenApples}`;
        document.getElementById('level').textContent = level;

        if (hunger < 10 || cleanliness < 10 || happiness < 10) {
            document.getElementById('character').style.backgroundImage = "url('Picsart_25-01-10_00-23-56-807.png')";
        } else {
            document.getElementById('character').style.backgroundImage = "url('dcc87ta-3d556cc0-9b25-4a94-afcb-9cdffe707032.png')";
        }
    }

    document.getElementById('feed').addEventListener('click', () => {
        if (apples > 0) {
            apples--;
            hunger += 10;
            if (hunger > 100) hunger = 100;
            level++;
            updateStats();
        } else {
            alert('You have no apples!');
        }
    });

    document.getElementById('shower').addEventListener('click', () => {
        cleanliness += 20;
        if (cleanliness > 100) cleanliness = 100;
        updateStats();
    });

    document.getElementById('open-chest').addEventListener('click', () => {
        if (coins >= 10) {
            coins -= 10;
            const reward = Math.floor(Math.random() * 11) + 10;
            apples += reward;
            alert(`You received ${reward} apples!`);
            updateStats();
        } else {
            alert('Not enough coins!');
        }
    });

    document.getElementById('toggle-menu').addEventListener('click', () => {
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    });

    document.getElementById('save-name').addEventListener('click', () => {
        if (playerNameInput.value && !leaderboard.some(player => player.name === playerNameInput.value)) {
            playerName = playerNameInput.value;
            leaderboard.push({ name: playerName });
            updateLeaderboard();
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
        } else {
            alert('You can only appear once on the leaderboard!');
        }
    });

    document.getElementById('save-progress').addEventListener('click', () => {
        localStorage.setItem('characterGame', JSON.stringify({ hunger, cleanliness, happiness, coins, apples, level, goldenApples, }));
        alert('Progress saved!');
    });

    window.onload = () => {
        const savedData = JSON.parse(localStorage.getItem('characterGame'));
        if (savedData) {
            ({ hunger, cleanliness, happiness, coins, apples, level, goldenApples, } = savedData);
            updateStats();
        }
        const savedLeaderboard = JSON.parse(localStorage.getItem('leaderboard'));
        if (savedLeaderboard) {
            leaderboard = savedLeaderboard;
            updateLeaderboard();
        }
    }

        

    setInterval(() => {
        coins += 90;
        updateStats();
    }, 60000); 

    setInterval(() => {
    if (!infiniteStates) {  // Only decrement if infiniteStates is false
        hunger--;
        cleanliness--;
        happiness--;
        if (hunger < 0) hunger = 0;
        if (cleanliness < 0) cleanliness = 0;
        if (happiness < 0) happiness = 0;
        updateStats();  // Call the updateStats function to reflect the changes
    }
}, 5000);  // Adjust this interval as per your game needs

    document.getElementById('reset-data').addEventListener('click', () => {
        const confirmReset = confirm('Are you sure you want to reset all your data?');
        if (confirmReset) {
            hunger = 100;
            cleanliness = 100;
            happiness = 100;
            coins = 0;
            apples = 0;
            goldenApples = 0
            level = 1;
            leaderboard = [];
            localStorage.removeItem('characterGame');
            localStorage.removeItem('leaderboard');
            updateStats();
            updateLeaderboard();
            alert('Data reset successfully!');
        }
    });

    function updateLeaderboard() {
        leaderboardEntries.innerHTML = '';
        leaderboard.forEach(player => {
            const entry = document.createElement('div');
            entry.textContent = `${player.name} -`;
            leaderboardEntries.appendChild(entry);
        });
    }

    document.getElementById('earn-apples').addEventListener('click', () => {
        const earnApplesButton = document.getElementById('earn-apples');
        if (!earnApplesButton.disabled) {
            apples++;
            updateStats();
            earnApplesButton.disabled = true;
            earnApplesButton.textContent = "Cooldown (30s)";
            let cooldownTime = 30;

            const cooldownInterval = setInterval(() => {
                cooldownTime--;
                earnApplesButton.textContent = `Cooldown (${cooldownTime}s)`;
                if (cooldownTime <= 0) {
                    clearInterval(cooldownInterval);
                    earnApplesButton.disabled = false;
                    earnApplesButton.textContent = "Earn Apples";
                }
            }, 1000);
        }
    });

    const showPhoneButton = document.getElementById('show-phone');
    const closePhoneButton = document.getElementById('close-phone');
    const phone = document.getElementById('phone');

    showPhoneButton.addEventListener('click', () => {
        phone.style.display = 'flex';
    });

    closePhoneButton.addEventListener('click', () => {
        phone.style.display = 'none';
    });

    let patCooldown = false;

    const character = document.getElementById('character');

    character.addEventListener('click', () => {
        if (!patCooldown) {
            patCooldown = true;
            happiness += 10;
            if (happiness > 100) happiness = 100;
            updateStats();
            character.style.transform = "translateY(-20px)";
            setTimeout(() => {
                character.style.transform = "translateY(0)";
            }, 200);
            new Audio('Yay - Sound Effect.mp3').play();
            setTimeout(() => {
                patCooldown = false;
            }, 1000);
        }
    });

    // Handle the Show Background Button click
document.getElementById('show-background').addEventListener('click', () => {
    const backgroundMenu = document.getElementById('background-menu');
    backgroundMenu.style.display = backgroundMenu.style.display === 'block' ? 'none' : 'block';
});

// Handle background changes
document.getElementById('background-1').addEventListener('click', () => {
    document.body.style.backgroundImage = "url('original-232adf446d5619c49c4ffb6247751762.webp')";
    document.getElementById('background-menu').style.display = 'none';
});

document.getElementById('background-2').addEventListener('click', () => {
    document.body.style.backgroundImage = "url('1oh3prd5lsr71.webp')";
    document.getElementById('background-menu').style.display = 'none';
    document.body.style.backgroundRepeat = 'no-repeat';
    document.body.style.backgroundSize = 'cover';
    document.body.style.backgroundPosition = 'center';
});

document.getElementById('background-3').addEventListener('click', () => {
    document.body.style.backgroundImage = "url('ai-generated-ai-generative-outdoor-nature-adventure-forest-walk-path-road-adventures-background-graphic-art-photo.jpg')";
    document.getElementById('background-menu').style.display = 'none';
    document.body.style.backgroundRepeat = 'no-repeat';
    document.body.style.backgroundSize = 'cover';
    document.body.style.backgroundPosition = 'center';
});

document.getElementById('background-4').addEventListener('click', () => {
    document.body.style.backgroundImage = "url('white-cement-wall-texture-backgrounds_707519-24233.avif')";
    document.getElementById('background-menu').style.display = 'none';
    document.body.style.backgroundRepeat = 'no-repeat';
    document.body.style.backgroundSize = 'cover';
    document.body.style.backgroundPosition = 'center';
});

// Handle the Reset Background Button click
document.getElementById('reset-background').addEventListener('click', () => {
    document.body.style.backgroundImage = ''; // Reset the background image
    document.getElementById('background-menu').style.display = 'none'; // Hide the background menu
});

document.getElementById('close-menu').addEventListener('click', () => {
    document.getElementById('menu').style.display = 'none';
});

document.addEventListener("DOMContentLoaded", () => {
    const toggleShopMenu = document.getElementById("toggleShopMenu");
    const shopMenu = document.getElementById("shopMenu");
    const buyBoostPotion = document.getElementById("buyBoostPotion");
    const shopFeedback = document.getElementById("shopFeedback");

    let boostCooldown = false;

    // Toggle shop menu visibility
    toggleShopMenu.addEventListener("click", () => {
        shopMenu.style.display = shopMenu.style.display === "none" ? "block" : "none";
    });

    // Purchase boost potion
    buyBoostPotion.addEventListener("click", () => {
        if (boostCooldown) {
            shopFeedback.textContent = "Potion is on cooldown. Please wait!";
            return;
        }

        if (coins >= 30) { // Assuming 'coins' is a global variable in your existing code
            coins -= 30;
            shopFeedback.textContent = "Boost potion activated! All stats increased.";
            boostCooldown = true;

            // Directly update game stats (replace these with your actual game variables)
            hunger = Math.min(hunger + 30, 100); // Replace 'hunger' with your variable
            cleanliness = Math.min(cleanliness + 30, 100); // Replace 'cleanliness' with your variable
            happiness = Math.min(happiness + 30, 100); // Replace 'happiness' with your variable

            // Optionally log updated values for debugging
            console.log("Updated stats: ", { hunger, cleanliness, happiness });

            // Start cooldown timer
            setTimeout(() => {
                boostCooldown = false;
                shopFeedback.textContent = "";
            }, 2 * 60 * 1000); // 2 minutes cooldown
        } else {
            shopFeedback.textContent = "Not enough coins to buy the potion.";
        }
    });
});


document.getElementById('close-men1').addEventListener('click', () => {
    document.getElementById('shopMenu').style.display = 'none';
});


document.getElementById('infinite-states-button').addEventListener('click', () => {
    if (coins >= 900000 && !infiniteStates) {
        coins -= 900000;
        infiniteStates = true;
        alert('Infinite states enabled! Stats will no longer decrease.');
        updateStats();  // Update stats to reflect the change in state
    } else {
        alert('You dont have enough coins!');
    }
});

// Get the button and the menu
const toggleMenuButton = document.getElementById('NTC');
const customMenu = document.getElementById('NTCM');

// Add the event listener to toggle the menu visibility
toggleMenuButton.addEventListener('click', () => {
    // Toggle the menu's display between 'none' and 'block'
    if (customMenu.style.display === 'none' || customMenu.style.display === '') {
        customMenu.style.display = 'block';
    } else {
        customMenu.style.display = 'none';
    }
});

// Handle "Buy 1000 Apples (500 Coins)" Button
document.getElementById('buyApples').addEventListener('click', () => {
    if (coins >= 500) {
        coins -= 500; // Deduct 500 coins
        apples += 1000; // Add 1000 apples
        updateStats(); // Update the stats on the screen
        document.getElementById('shopFeedback').textContent = 'You successfully bought 1000 apples!';
        document.getElementById('shopFeedback').style.color = 'green';
    } else {
        document.getElementById('shopFeedback').textContent = 'Not enough coins to buy 1000 apples.';
        document.getElementById('shopFeedback').style.color = 'red';
    }
});

// Game state variables
let goldenApples = 0; // Adjust this if the player already has golden apples


// Menu button and fuse system elements
const menuButton = document.getElementById('fusings');
const fuseMenu = document.getElementById('fuseMenu');
const fuseButton = document.getElementById('fuseButton');

// Toggle the fuse menu visibility
menuButton.addEventListener('click', () => {
    if (fuseMenu.style.display === 'none' || fuseMenu.style.display === '') {
        fuseMenu.style.display = 'block'; // Show the menu
    } else {
        fuseMenu.style.display = 'none'; // Hide the menu
    }
});

// Fuse 10 normal apples into 1 golden apple
fuseButton.addEventListener('click', () => {
    if (apples >= 10) {
        apples -= 10;
        goldenApples += 1;
        alert('You fused 10 normal apples into 1 golden apple!');
    } else {
        alert('Not enough normal apples to fuse!');
    }
    updateUI(); // Refresh UI elements
});

// Consume a golden apple and restore hunger to 100%
function consumeGoldenApple() {
    if (goldenApples > 0) {
        goldenApples -= 1;
        hunger = 100;
        alert('You ate a golden apple! Hunger restored to 100%.');
    } else {
        alert('No golden apples to consume!');
    }
    updateUI(); // Refresh UI elements
}

// Update UI elements to reflect current state
function updateUI() {
    document.getElementById('apples').textContent = apples;
    document.getElementById('goldenApples').textContent = goldenApples;
    document.getElementById('hunger').textContent = hunger + '%';
}

// Initialize the UI with the default values
updateUI();

// Feed a golden apple and restore hunger
const feedGoldenAppleButton = document.getElementById('feedGoldenAppleButton');

feedGoldenAppleButton.addEventListener('click', () => {
    if (goldenApples > 0) {
        goldenApples -= 1;
        hunger = 100; // Restore hunger to 100%
        alert('You ate a golden apple! Hunger is now at 100%.');
    } else {
        alert('No golden apples to feed!');
    }
    updateUI(); // Refresh UI elements
});

document.getElementById('close-men2').addEventListener('click', () => {
    document.getElementById('fuseMenu').style.display = 'none';
});

let autoSaveEnabled = false; // Auto-save is disabled by default

// Toggle auto-save on/off
document.getElementById('toggle-autosave').addEventListener('click', () => {
    autoSaveEnabled = !autoSaveEnabled;
    const button = document.getElementById('toggle-autosave');
    if (autoSaveEnabled) {
        button.textContent = 'Disable Auto Save';
        startAutoSave();
    } else {
        button.textContent = 'Enable Auto Save';
        stopAutoSave();
    }
});

// Function to start auto-save
function startAutoSave() {
    autoSaveInterval = setInterval(() => {
        saveProgress();
    }, 5000); // Save every 5 seconds (or change to any interval you prefer)
}

// Function to stop auto-save
function stopAutoSave() {
    clearInterval(autoSaveInterval);
}

// Save progress function
function saveProgress() {
    localStorage.setItem('characterGame', JSON.stringify({ hunger, cleanliness, happiness, coins, apples, level, goldenApples }));
    console.log('Auto-save: Progress saved!');
}

// Load progress from local storage on page load
window.onload = () => {
    const savedData = JSON.parse(localStorage.getItem('characterGame'));
    if (savedData) {
        ({ hunger, cleanliness, happiness, coins, apples, level, goldenApples } = savedData);
        updateStats();
    }

    const savedLeaderboard = JSON.parse(localStorage.getItem('leaderboard'));
    if (savedLeaderboard) {
        leaderboard = savedLeaderboard;
        updateLeaderboard();
    }
};



</script>
<p style="background: #B8E1FC;
background: radial-gradient(circle farthest-corner at center center, #B8E1FC 0%, #231421 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;" >V5 (prev version V5 beta)</p>
</body>
</html>
